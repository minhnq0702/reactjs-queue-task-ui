import{v as ee,w as mt,x as bt,y as xt,z as vt,B as $t,f as L,C as ht,t as gt,d as Ct,j as d,D as me,E as yt,G as te,H as be,I as wt,a as Et,n as K,e as J,p as F,T as z,k as H,L as se,b as oe,m as ae,J as Pt,u as Dt,o as kt,$ as Ot,q as Tt,i as _,A as It,K as St,M as Nt,N as jt}from"./index-DfHWWN7U.js";import{r as u,$ as ne,u as Mt,e as At,f as re,J as ie}from"./store-Bwm-NDa9.js";import{$ as xe,a as Lt,b as _t,u as le,C as Bt,c as Rt,t as Ft,d as Ht,e as Kt,f as Vt,g as Wt,h as Ut,i as zt,j as qt,k as Gt}from"./PagiPageCtrl-CxePq57k.js";import{u as Jt}from"./index-CBH2vT-2.js";import"./chunk-2PIR7DFM-BRK0am9t.js";function Yt(...e){return e.length===1?e[0]:t=>{for(let s of e)typeof s=="function"?s(t):s!=null&&(s.current=t)}}function Zt(e){let{ref:t,onInteractOutside:s,isDisabled:i,onInteractOutsideStart:l}=e,c=u.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),p=ee(n=>{s&&B(n,t)&&(l&&l(n),c.current.isPointerDown=!0)}),a=ee(n=>{s&&s(n)});u.useEffect(()=>{let n=c.current;if(i)return;const r=t.current,o=mt(r);if(typeof PointerEvent<"u"){let b=m=>{n.isPointerDown&&B(m,t)&&a(m),n.isPointerDown=!1};return o.addEventListener("pointerdown",p,!0),o.addEventListener("pointerup",b,!0),()=>{o.removeEventListener("pointerdown",p,!0),o.removeEventListener("pointerup",b,!0)}}else{let b=x=>{n.ignoreEmulatedMouseEvents?n.ignoreEmulatedMouseEvents=!1:n.isPointerDown&&B(x,t)&&a(x),n.isPointerDown=!1},m=x=>{n.ignoreEmulatedMouseEvents=!0,n.isPointerDown&&B(x,t)&&a(x),n.isPointerDown=!1};return o.addEventListener("mousedown",p,!0),o.addEventListener("mouseup",b,!0),o.addEventListener("touchstart",p,!0),o.addEventListener("touchend",m,!0),()=>{o.removeEventListener("mousedown",p,!0),o.removeEventListener("mouseup",b,!0),o.removeEventListener("touchstart",p,!0),o.removeEventListener("touchend",m,!0)}}},[t,i,p,a])}function B(e,t){if(e.button>0)return!1;if(e.target){const s=e.target.ownerDocument;if(!s||!s.documentElement.contains(e.target)||e.target.closest("[data-react-aria-top-layer]"))return!1}return t.current&&!t.current.contains(e.target)}const y=[];function Xt(e,t){let{onClose:s,shouldCloseOnBlur:i,isOpen:l,isDismissable:c=!1,isKeyboardDismissDisabled:p=!1,shouldCloseOnInteractOutside:a}=e;u.useEffect(()=>(l&&y.push(t),()=>{let f=y.indexOf(t);f>=0&&y.splice(f,1)}),[l,t]);let n=()=>{y[y.length-1]===t&&s&&s()},r=f=>{(!a||a(f.target))&&y[y.length-1]===t&&(f.stopPropagation(),f.preventDefault())},o=f=>{(!a||a(f.target))&&(y[y.length-1]===t&&(f.stopPropagation(),f.preventDefault()),n())},b=f=>{f.key==="Escape"&&!p&&!f.nativeEvent.isComposing&&(f.stopPropagation(),f.preventDefault(),n())};Zt({ref:t,onInteractOutside:c&&l?o:null,onInteractOutsideStart:r});let{focusWithinProps:m}=bt({isDisabled:!i,onBlurWithin:f=>{!f.relatedTarget||xt(f.relatedTarget)||(!a||a(f.relatedTarget))&&s()}}),x=f=>{f.target===f.currentTarget&&f.preventDefault()};return{overlayProps:{onKeyDown:b,...m},underlayProps:{onPointerDown:x}}}const q=typeof document<"u"&&window.visualViewport,Qt=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let R=0,G;function es(e={}){let{isDisabled:t}=e;vt(()=>{if(!t)return R++,R===1&&($t()?G=ss():G=ts()),()=>{R--,R===0&&G()}},[t])}function ts(){return L(I(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),I(document.documentElement,"overflow","hidden"))}function ss(){let e,t,s=r=>{e=xe(r.target,!0),!(e===document.documentElement&&e===document.body)&&e instanceof HTMLElement&&window.getComputedStyle(e).overscrollBehavior==="auto"&&(t=I(e,"overscrollBehavior","contain"))},i=r=>{if(!e||e===document.documentElement||e===document.body){r.preventDefault();return}e.scrollHeight===e.clientHeight&&e.scrollWidth===e.clientWidth&&r.preventDefault()},l=r=>{let o=r.target;ce(o)&&o!==document.activeElement&&(r.preventDefault(),a(),o.style.transform="translateY(-2000px)",o.focus(),requestAnimationFrame(()=>{o.style.transform=""})),t&&t()},c=r=>{let o=r.target;ce(o)&&(a(),o.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{o.style.transform="",q&&(q.height<window.innerHeight?requestAnimationFrame(()=>{de(o)}):q.addEventListener("resize",()=>de(o),{once:!0}))}))},p=null,a=()=>{if(p)return;let r=()=>{window.scrollTo(0,0)},o=window.pageXOffset,b=window.pageYOffset;p=L(M(window,"scroll",r),I(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),I(document.documentElement,"overflow","hidden"),I(document.body,"marginTop",`-${b}px`),()=>{window.scrollTo(o,b)}),window.scrollTo(0,0)},n=L(M(document,"touchstart",s,{passive:!1,capture:!0}),M(document,"touchmove",i,{passive:!1,capture:!0}),M(document,"touchend",l,{passive:!1,capture:!0}),M(document,"focus",c,!0));return()=>{t==null||t(),p==null||p(),n()}}function I(e,t,s){let i=e.style[t];return e.style[t]=s,()=>{e.style[t]=i}}function M(e,t,s,i){return e.addEventListener(t,s,i),()=>{e.removeEventListener(t,s,i)}}function de(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let s=xe(e);if(s!==document.documentElement&&s!==document.body&&s!==e){let i=s.getBoundingClientRect().top,l=e.getBoundingClientRect().top;l>i+e.clientHeight&&(s.scrollTop+=l-i)}e=s.parentElement}}function ce(e){return e instanceof HTMLInputElement&&!Qt.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}var ve={};ve={dismiss:"تجاهل"};var $e={};$e={dismiss:"Отхвърляне"};var he={};he={dismiss:"Odstranit"};var ge={};ge={dismiss:"Luk"};var Ce={};Ce={dismiss:"Schließen"};var ye={};ye={dismiss:"Απόρριψη"};var we={};we={dismiss:"Dismiss"};var Ee={};Ee={dismiss:"Descartar"};var Pe={};Pe={dismiss:"Lõpeta"};var De={};De={dismiss:"Hylkää"};var ke={};ke={dismiss:"Rejeter"};var Oe={};Oe={dismiss:"התעלם"};var Te={};Te={dismiss:"Odbaci"};var Ie={};Ie={dismiss:"Elutasítás"};var Se={};Se={dismiss:"Ignora"};var Ne={};Ne={dismiss:"閉じる"};var je={};je={dismiss:"무시"};var Me={};Me={dismiss:"Atmesti"};var Ae={};Ae={dismiss:"Nerādīt"};var Le={};Le={dismiss:"Lukk"};var _e={};_e={dismiss:"Negeren"};var Be={};Be={dismiss:"Zignoruj"};var Re={};Re={dismiss:"Descartar"};var Fe={};Fe={dismiss:"Dispensar"};var He={};He={dismiss:"Revocare"};var Ke={};Ke={dismiss:"Пропустить"};var Ve={};Ve={dismiss:"Zrušiť"};var We={};We={dismiss:"Opusti"};var Ue={};Ue={dismiss:"Odbaci"};var ze={};ze={dismiss:"Avvisa"};var qe={};qe={dismiss:"Kapat"};var Ge={};Ge={dismiss:"Скасувати"};var Je={};Je={dismiss:"取消"};var Ye={};Ye={dismiss:"關閉"};var Ze={};Ze={"ar-AE":ve,"bg-BG":$e,"cs-CZ":he,"da-DK":ge,"de-DE":Ce,"el-GR":ye,"en-US":we,"es-ES":Ee,"et-EE":Pe,"fi-FI":De,"fr-FR":ke,"he-IL":Oe,"hr-HR":Te,"hu-HU":Ie,"it-IT":Se,"ja-JP":Ne,"ko-KR":je,"lt-LT":Me,"lv-LV":Ae,"nb-NO":Le,"nl-NL":_e,"pl-PL":Be,"pt-BR":Re,"pt-PT":Fe,"ro-RO":He,"ru-RU":Ke,"sk-SK":Ve,"sl-SI":We,"sr-SP":Ue,"sv-SE":ze,"tr-TR":qe,"uk-UA":Ge,"zh-CN":Je,"zh-TW":Ye};function os(e){return e&&e.__esModule?e.default:e}function ue(e){let{onDismiss:t,...s}=e,i=Lt(os(Ze),"@react-aria/overlays"),l=ht(s,i.format("dismiss")),c=()=>{t&&t()};return ne.createElement(_t,null,ne.createElement("button",{...l,tabIndex:-1,onClick:c,style:{width:1,height:1}}))}let A=new WeakMap,g=[];function as(e,t=document.body){let s=new Set(e),i=new Set,l=n=>{for(let m of n.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))s.add(m);let r=m=>{if(s.has(m)||i.has(m.parentElement)&&m.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let x of s)if(m.contains(x))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},o=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r}),b=r(n);if(b===NodeFilter.FILTER_ACCEPT&&c(n),b!==NodeFilter.FILTER_REJECT){let m=o.nextNode();for(;m!=null;)c(m),m=o.nextNode()}},c=n=>{var r;let o=(r=A.get(n))!==null&&r!==void 0?r:0;n.getAttribute("aria-hidden")==="true"&&o===0||(o===0&&n.setAttribute("aria-hidden","true"),i.add(n),A.set(n,o+1))};g.length&&g[g.length-1].disconnect(),l(t);let p=new MutationObserver(n=>{for(let r of n)if(!(r.type!=="childList"||r.addedNodes.length===0)&&![...s,...i].some(o=>o.contains(r.target))){for(let o of r.removedNodes)o instanceof Element&&(s.delete(o),i.delete(o));for(let o of r.addedNodes)(o instanceof HTMLElement||o instanceof SVGElement)&&(o.dataset.liveAnnouncer==="true"||o.dataset.reactAriaTopLayer==="true")?s.add(o):o instanceof Element&&l(o)}});p.observe(t,{childList:!0,subtree:!0});let a={observe(){p.observe(t,{childList:!0,subtree:!0})},disconnect(){p.disconnect()}};return g.push(a),()=>{p.disconnect();for(let n of i){let r=A.get(n);r===1?(n.removeAttribute("aria-hidden"),A.delete(n)):A.set(n,r-1)}a===g[g.length-1]?(g.pop(),g.length&&g[g.length-1].observe()):g.splice(g.indexOf(a),1)}}var fe=gt({slots:{wrapper:["flex","w-screen","h-[100dvh]","fixed","inset-0","z-50","overflow-x-auto","justify-center"],base:["flex","flex-col","relative","bg-white","z-50","w-full","box-border","bg-content1","outline-none","mx-1","my-1","sm:mx-6","sm:my-16"],backdrop:"z-50",header:"flex py-4 px-6 flex-initial text-large font-semibold",body:"flex flex-1 flex-col gap-3 px-6 py-2",footer:"flex flex-row gap-2 px-6 py-4 justify-end",closeButton:["absolute","appearance-none","outline-none","select-none","top-1","right-1","rtl:left-1","rtl:right-[unset]","p-2","text-foreground-500","rounded-full","hover:bg-default-100","active:bg-default-200","tap-highlight-transparent",...Ct]},variants:{size:{xs:{base:"max-w-xs"},sm:{base:"max-w-sm"},md:{base:"max-w-md"},lg:{base:"max-w-lg"},xl:{base:"max-w-xl"},"2xl":{base:"max-w-2xl"},"3xl":{base:"max-w-3xl"},"4xl":{base:"max-w-4xl"},"5xl":{base:"max-w-5xl"},full:{base:"my-0 mx-0 sm:mx-0 sm:my-0 max-w-full h-[100dvh] !rounded-none"}},radius:{none:{base:"rounded-none"},sm:{base:"rounded-small"},md:{base:"rounded-medium"},lg:{base:"rounded-large"}},placement:{auto:{wrapper:"items-end sm:items-center"},center:{wrapper:"items-center sm:items-center"},top:{wrapper:"items-start sm:items-start"},"top-center":{wrapper:"items-start sm:items-center"},bottom:{wrapper:"items-end sm:items-end"},"bottom-center":{wrapper:"items-end sm:items-center"}},shadow:{sm:{base:"shadow-small"},md:{base:"shadow-medium"},lg:{base:"shadow-large"}},backdrop:{transparent:{backdrop:"hidden"},opaque:{backdrop:"bg-overlay/50 backdrop-opacity-disabled"},blur:{backdrop:"backdrop-blur-md backdrop-saturate-150 bg-overlay/30"}},scrollBehavior:{normal:{base:"overflow-y-hidden"},inside:{base:"max-h-[calc(100%_-_7.5rem)]",body:"overflow-y-auto"},outside:{wrapper:"items-start sm:items-start overflow-y-auto",base:"my-16"}},disableAnimation:{false:{wrapper:["[--scale-enter:100%]","[--scale-exit:100%]","[--slide-enter:0px]","[--slide-exit:80px]","sm:[--scale-enter:100%]","sm:[--scale-exit:103%]","sm:[--slide-enter:0px]","sm:[--slide-exit:0px]"]}}},defaultVariants:{size:"md",radius:"lg",shadow:"sm",placement:"auto",backdrop:"opaque",scrollBehavior:"normal"},compoundVariants:[{backdrop:["opaque","blur"],class:{backdrop:"w-screen h-screen fixed inset-0"}}]}),ns=e=>{const{isSelected:t,isIndeterminate:s,disableAnimation:i,...l}=e;return d.jsx("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",role:"presentation",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",width:"1em",...l,children:d.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})};function rs(e){let[t,s]=me(e.isOpen,e.defaultOpen||!1,e.onOpenChange);const i=u.useCallback(()=>{s(!0)},[s]),l=u.useCallback(()=>{s(!1)},[s]),c=u.useCallback(()=>{s(!t)},[s,t]);return{isOpen:t,setOpen:s,open:i,close:l,toggle:c}}function is(e,t){let{role:s="dialog"}=e,i=yt();i=e["aria-label"]?void 0:i;let l=u.useRef(!1);return u.useEffect(()=>{if(t.current&&!t.current.contains(document.activeElement)){te(t.current);let c=setTimeout(()=>{document.activeElement===t.current&&(l.current=!0,t.current&&(t.current.blur(),te(t.current)),l.current=!1)},500);return()=>{clearTimeout(c)}}},[t]),be(),{dialogProps:{...wt(e,{labelable:!0}),role:s,tabIndex:-1,"aria-labelledby":e["aria-labelledby"]||i,onBlur:c=>{l.current&&c.stopPropagation()}},titleProps:{id:i}}}var[ls,Y]=Et({name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Modal />`"}),Xe=K((e,t)=>{const{as:s,children:i,className:l,...c}=e,{slots:p,classNames:a,bodyId:n,setBodyMounted:r}=Y(),o=J(t),b=s||"div";return u.useEffect(()=>(r(!0),()=>r(!1)),[r]),d.jsx(b,{ref:o,className:p.body({class:F(a==null?void 0:a.body,l)}),id:n,...c,children:i})});Xe.displayName="NextUI.ModalBody";var ds=Xe,cs={enter:{scale:"var(--scale-enter)",y:"var(--slide-enter)",opacity:1,transition:{scale:{duration:.4,ease:z.ease},opacity:{duration:.4,ease:z.ease},y:{type:"spring",bounce:0,duration:.6}}},exit:{scale:"var(--scale-exit)",y:"var(--slide-exit)",opacity:0,transition:{duration:.3,ease:z.ease}}},Qe=K((e,t)=>{const{as:s,children:i,role:l="dialog",...c}=e,{Component:p,domRef:a,slots:n,classNames:r,motionProps:o,backdrop:b,closeButton:m,hideCloseButton:x,disableAnimation:f,getDialogProps:C,getBackdropProps:$,getCloseButtonProps:h,onClose:w}=Y(),S=s||p||"div",{dialogProps:v}=is({role:l},a),E=u.isValidElement(m)?u.cloneElement(m,h()):d.jsx("button",{...h(),children:d.jsx(ns,{})}),N=u.useCallback(O=>{O.key==="Tab"&&O.nativeEvent.isComposing&&(O.stopPropagation(),O.preventDefault())},[]),P=C(H(v,c)),k=d.jsxs(S,{...P,onKeyDown:L(P.onKeyDown,N),children:[d.jsx(ue,{onDismiss:w}),!x&&E,typeof i=="function"?i(w):i,d.jsx(ue,{onDismiss:w})]}),V=u.useMemo(()=>b==="transparent"?null:f?d.jsx("div",{...$()}):d.jsx(se,{features:oe,children:d.jsx(ae.div,{animate:"enter",exit:"exit",initial:"exit",variants:Pt.fade,...$()})}),[b,f,$]),W=f?d.jsx("div",{className:n.wrapper({class:r==null?void 0:r.wrapper}),"data-slot":"wrapper",children:k}):d.jsx(se,{features:oe,children:d.jsx(ae.div,{animate:"enter",className:n.wrapper({class:r==null?void 0:r.wrapper}),"data-slot":"wrapper",exit:"exit",initial:"exit",variants:cs,...o,children:k})});return d.jsxs("div",{tabIndex:-1,children:[V,W]})});Qe.displayName="NextUI.ModalContent";var us=Qe,et=K((e,t)=>{const{as:s,children:i,className:l,...c}=e,{slots:p,classNames:a,headerId:n,setHeaderMounted:r}=Y(),o=J(t),b=s||"header";return u.useEffect(()=>(r(!0),()=>r(!1)),[r]),d.jsx(b,{ref:o,className:p.header({class:F(a==null?void 0:a.header,l)}),id:n,...c,children:i})});et.displayName="NextUI.ModalHeader";var fs=et;function ps(e={shouldBlockScroll:!0},t,s){let{overlayProps:i,underlayProps:l}=Xt({...e,isOpen:t.isOpen,onClose:t.close},s);return es({isDisabled:!t.isOpen||!e.shouldBlockScroll}),be(),u.useEffect(()=>{if(t.isOpen&&s.current)return as([s.current])},[t.isOpen,s]),{modalProps:H(i),underlayProps:l}}function ms(e){var t,s,i;const l=Dt(),[c,p]=kt(e,fe.variantKeys),{ref:a,as:n,className:r,classNames:o,isOpen:b,defaultOpen:m,onOpenChange:x,motionProps:f,closeButton:C,isDismissable:$=!0,hideCloseButton:h=!1,shouldBlockScroll:w=!0,portalContainer:S,isKeyboardDismissDisabled:v=!1,onClose:E,...N}=c,P=n||"section",k=J(a),V=u.useRef(null),[W,O]=u.useState(!1),[st,ot]=u.useState(!1),U=(s=(t=e.disableAnimation)!=null?t:l==null?void 0:l.disableAnimation)!=null?s:!1,at=u.useId(),Z=u.useId(),X=u.useId(),T=rs({isOpen:b,defaultOpen:m,onOpenChange:D=>{x==null||x(D),D||E==null||E()}}),{modalProps:nt,underlayProps:Q}=ps({isDismissable:$,shouldBlockScroll:w,isKeyboardDismissDisabled:v},T,k),{buttonProps:rt}=Jt({onPress:T.close},V),{isFocusVisible:it,focusProps:lt}=Ot(),dt=F(o==null?void 0:o.base,r),j=u.useMemo(()=>fe({...p,disableAnimation:U}),[Tt(p),U]),ct=(D={},pt=null)=>({ref:Yt(pt,k),...H(nt,N,D),className:j.base({class:F(dt,D.className)}),id:at,"data-open":_(T.isOpen),"data-dismissable":_($),"aria-modal":_(!0),"aria-labelledby":W?Z:void 0,"aria-describedby":st?X:void 0}),ut=u.useCallback((D={})=>({className:j.backdrop({class:o==null?void 0:o.backdrop}),onClick:()=>T.close(),...Q,...D}),[j,o,Q]),ft=()=>({role:"button",tabIndex:0,"aria-label":"Close","data-focus-visible":_(it),className:j.closeButton({class:o==null?void 0:o.closeButton}),...H(rt,lt)});return{Component:P,slots:j,domRef:k,headerId:Z,bodyId:X,motionProps:f,classNames:o,isDismissable:$,closeButton:C,hideCloseButton:h,portalContainer:S,shouldBlockScroll:w,backdrop:(i=e.backdrop)!=null?i:"opaque",isOpen:T.isOpen,onClose:T.close,disableAnimation:U,setBodyMounted:ot,setHeaderMounted:O,getDialogProps:ct,getBackdropProps:ut,getCloseButtonProps:ft}}var tt=K((e,t)=>{const{children:s,...i}=e,l=ms({...i,ref:t}),c=d.jsx(St,{portalContainer:l.portalContainer,children:s});return d.jsx(ls,{value:l,children:l.disableAnimation&&l.isOpen?c:d.jsx(It,{children:l.isOpen?c:null})})});tt.displayName="NextUI.Modal";var bs=tt;function xs(e={}){const{id:t,defaultOpen:s,isOpen:i,onClose:l,onOpen:c,onChange:p=()=>{}}=e,a=le(c),n=le(l),[r,o]=me(i,s||!1,p),b=u.useId(),m=t||b,x=i!==void 0,f=u.useCallback(()=>{x||o(!1),n==null||n()},[x,n]),C=u.useCallback(()=>{x||o(!0),a==null||a()},[x,a]),$=u.useCallback(()=>{(r?f:C)()},[r,C,f]);return{isOpen:!!r,onOpen:C,onClose:f,onOpenChange:$,isControlled:x,getButtonProps:(h={})=>({...h,"aria-expanded":r,"aria-controls":m,onClick:L(h.onClick,$)}),getDisclosureProps:(h={})=>({...h,hidden:!r,id:m})}}const vs=[{key:"model",label:"Model"},{key:"func",label:"Func"},{key:"createdAt",label:"Created at"},{key:"updatedAt",label:"Updated at"},{key:"id",label:"ID"},{key:"state",label:"Status"},{key:"action",label:"Action"}],$s=({tasks:e,limitCtrl:t,pageCtrl:s,onRowClick:i,...l})=>{const c=(a,n)=>{n==="view"&&l.onView&&l.onView(a),n==="delete"&&l.onDelete&&l.onDelete(a)},p=u.useMemo(()=>e.map(a=>({_id:a._id,id:d.jsx(Bt,{content:a._id}),model:a.model,func:a.func,state:d.jsx(Rt,{status:a.state}),createdAt:new Date(a.createdAt).toLocaleString("vi"),updatedAt:new Date(a.updatedAt).toLocaleString("vi"),action:d.jsx("div",{children:d.jsxs("div",{className:"relative flex items-center gap-2",children:[d.jsx("span",{className:"text-lg text-default-400 cursor-pointer active:opacity-50 hover:text-primary-500",onClick:()=>c(a._id,"view"),children:d.jsx(Nt,{})}),d.jsx("span",{className:"text-medium text-danger-400 cursor-pointer active:opacity-70",onClick:()=>c(a._id,"delete"),children:d.jsx(jt,{})})]})})})),[e]);return d.jsx("div",{className:"",children:d.jsxs(Ft,{"aria-label":"Task Summary",isStriped:!0,topContent:t,topContentPlacement:"outside",bottomContent:s,bottomContentPlacement:"outside",children:[d.jsx(Ht,{columns:vs,children:a=>d.jsx(Kt,{"aria-label":a.key,className:"text-small",children:a.label},a.key)}),d.jsx(Vt,{items:p,emptyContent:"No rows to display.",children:a=>d.jsx(Wt,{className:"h-10",onClick:()=>i?i(a._id):null,children:n=>d.jsx(Ut,{children:zt(a,n)})},a._id)})]})})},hs=({title:e,isOpen:t,onOpenChange:s})=>d.jsx(bs,{isOpen:t,onOpenChange:s,placement:"top",motionProps:{variants:{enter:{x:0,opacity:1,transition:{duration:.3,ease:"easeOut"}},exit:{x:50,opacity:0,transition:{duration:.2,ease:"easeIn"}}}},className:"dark",classNames:{wrapper:"fixed inset-0 z-50 flex items-center justify-end",base:"h-screen md:h-5/6"},children:d.jsxs(us,{children:[e?d.jsx(fs,{children:e}):null,d.jsx(ds,{children:"Modal Content"})]})}),pe=1,gs=20,Ds=()=>{const e=Mt(),{isOpen:t,onOpen:s,onOpenChange:i}=xs(),l=At(v=>v.task.tasks),[c,p]=u.useState(gs),[a,n]=u.useState(pe),[r,o]=u.useState(0),[b,m]=u.useState(0),x=u.useCallback((v,E)=>{e(re.LIST_TASKS({limit:v,page:E})).then(N=>{const P=N.payload.total??0;o(P),m(Math.ceil(P/v))})},[]);u.useEffect(()=>{x(c,a)},[c,a]);const f=v=>{n(v)},C=v=>{p(v),f(pe)},$=u.useMemo(()=>d.jsx(qt,{total:r,limit:c,onLimitChange:C}),[r]),h=u.useMemo(()=>d.jsx(Gt,{currentPage:a,totalPage:b,onPageChange:f}),[b,a]),w=u.useCallback(v=>{console.log("open modal task",v,c,a),s()},[]),S=u.useCallback(v=>{e(re.DELETE_TASK_BY_ID(v)).unwrap().then(()=>{ie.success("Task deleted"),x(c,a)}).catch(E=>{ie.error(E.message)})},[c,a]);return d.jsxs(d.Fragment,{children:[d.jsx(hs,{isOpen:t,onOpenChange:i}),d.jsx($s,{tasks:l,limitCtrl:$,pageCtrl:h,onView:w,onDelete:S})]})};export{Ds as default};
